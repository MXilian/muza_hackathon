from typing import Dict, List, Optional

INTERESTS = {
    'Наука и техника': [
        'Автомобили',
        'Космос',
        'Робототехника',
        'Связь',
        'Инженерное дело',
        'История науки',
        'Научные исследования',
        'Научно-популярная литература',
        'Инновации в образовании'
    ],
    'География и океанология': [
        'География',
        'Океанология',
        'Морские обитатели',
        'Геологические процессы'
    ],
    'Биология и экология': [
        'Зоология',
        'Ботаника',
        'Палеонтология',
        'Генетика',
        'Экология',
        'Эволюция',
        'Национальные парки'
    ],
    'История': [
        'Древний мир',
        'Древняя Русь',
        'Античность',
        'Средневековье',
        'Новое время',
        'Новейшая история',
        'Военная история',
        'Война 1812 года',
        'Первая мировая война',
        'Вторая мировая война',
        'Революция',
        'Исторические личности',
        'Архивы и документы'
    ],
    'Этнография и археология': [
        'Этнография',
        'Археология',
        'Народные традиции',
        'Культурное наследие',
        'Исторические памятники'
    ],
    'Культурное наследие': [
        'Музеи',
        'Памятники культуры',
        'Исторические места',
        'Традиционные ремесла',
        'Архитектура'
    ],
    'Музыка': [
        'Классическая музыка',
        'Современная музыка',
        'Народная музыка',
        'Музыкальные инструменты',
        'История музыки'
    ],
    'Изобразительное искусство': [
        'Живопись',
        'Скульптура',
        'Фреска',
        'Мозаика',
        'Графика',
        'Фотография',
        'Современное искусство',
        'Уличное искусство'
    ],
    'Литература': [
        'Художественная проза',
        'Поэзия',
        'Документальная литература',
        'Книги и рукописи'
    ],
    'Театр': [
        'Драматический театр',
        'Музыкальный театр',
        'Современный театр',
        'Балет',
        'Опера',
        'История театра'
    ],
    'Кино': [
        'Художественные фильмы',
        'Документальное кино',
        'Анимация',
        'История кинематографа'
    ],
    'Религия и духовность': [
        'Религия',
        'Духовность',
        'История религий',
        'Святыни',
        'Церковная архитектура'
    ]
}


def flatten_interests(interests: Dict[str, List[str]]) -> List[str]:
    """
    Преобразует иерархическую структуру интересов в плоский список.

    :param interests: Словарь интересов (категории -> подкатегории).
    :return: Плоский список всех интересов.
    """
    return [interest for sublist in interests.values() for interest in sublist]


def get_interest_category(interest: str, interests: Dict[str, List[str]]) -> Optional[str]:
    """
    Возвращает категорию для указанного интереса.

    :param interest: Интерес (например, "Живопись").
    :param interests: Словарь интересов (категории -> подкатегории).
    :return: Категория интереса или None, если не найдена.
    """
    for category, subcategories in interests.items():
        if interest in subcategories:
            return category
    return None
